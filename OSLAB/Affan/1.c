#include <iostream>
#include <stdint.h>#include <stdlib.h>#include <sys/types.h>#include <sys/wait.h>using namespace std;int main(){    int num, factorial, square;    int pipe1[2], pipe2[2];    pid_t pid1, pid2;        cout << "Enter a number: ";    cin >> num;    if (pipe(pipe1) < 0 || pipe(pipe2) < 0)    {        cerr << "Error: Unable to create pipes\n";        exit(1);    }    pid1 = fork();    if (pid1 < 0)    {        cerr << "Error: Unable to fork first child process\n";        exit(1);    }    if (pid1 == 0)    {        close(pipe1[1]);        read(pipe1[0], &num, sizeof(num));        close(pipe1[0]);        factorial = 1;        for (int i = 1; i <= num; i++)        {            factorial *= i;        }        close(pipe2[0]);        write(pipe2[1], &factorial, sizeof(factorial));        close(pipe2[1]);        exit(0);    }    pid2 = fork();    if (pid2 < 0)    {        cerr << "Error: Unable to fork second child process\n";        exit(1);    }    if (pid2 == 0)    {        close(pipe1[1]);        read(pipe1[0], &num, sizeof(num));        close(pipe1[0]);        square = num * num;        cout << square;        close(pipe2[0]);        write(pipe2[1], &square, sizeof(square));        close(pipe2[1]);        exit(0);    }    close(pipe1[0]); //cout << "Enter a number: ";   // cin >> num;    write(pipe1[1], &num, sizeof(num));    close(pipe1[1]);    int status1, status2;    waitpid(pid1, &status1, 0);    waitpid(pid2, &status2, 0);    close(pipe2[1]);    read(pipe2[0], &factorial, sizeof(factorial));    read(pipe2[0], &square, sizeof(square));    close(pipe2[0]);    cout << "Factorial of " << num << " is " << factorial << endl;    cout << "Square of " << num << " is " << square << endl;}